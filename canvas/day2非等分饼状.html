<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <style>
        canvas {

            border: 1px sole red;
        }
    </style>

    <script>
        window.onload = function () {

            var ctx = document.querySelector("canvas").getContext("2d");
            var x0 = ctx.canvas.width/2;
            var y0 = ctx.canvas.height/2;
            var data = [20, 30, 90, 5];
            var total = 0;
            data.forEach(function (ele, i) {
                total += ele;

            });

            var angleList = [];
            data.forEach(function (ele) {

                angleList.push(Math.PI * 2 *(ele / total) );

            });

            var startAngle = 0;
            angleList.forEach((ele, i) => {

                var  endAngle=startAngle+ele;
                ctx.beginPath();
                ctx.moveTo(x0, y0);
                ctx.arc(x0, y0, 80, startAngle, endAngle);

                ctx.closePath();
                ctx.fillStyle = getRandomColor();
                ctx.fill();

                startAngle = endAngle;
            });


        }

        function getRandomColor() {

            var r = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);

            return 'rgb(' + r + ',' + g + ',' + b + ')';
        }
    </script>
</head>

<body>
    <canvas  width="600"  height="400">

    </canvas>
</body>

</html>